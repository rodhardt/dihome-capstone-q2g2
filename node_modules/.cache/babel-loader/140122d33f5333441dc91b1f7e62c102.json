{"ast":null,"code":"var _jsxFileName = \"/home/rodhardt/Documents/Q2/new-dihome/dihome-capstone-q2g2/src/pages/Dashboard/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport CasaAsombrada from \"../../assets/Images/CasaAssombrada.jpeg\";\nimport casaIt from \"../../assets/Images/casaIt.jpeg\";\nimport gondor from \"../../assets/Images/gondor.jpeg\";\nimport hobbt from \"../../assets/Images/hobbt.jpg\";\nimport mansãoSpenser from \"../../assets/Images/mansãoSpenser.jpeg\";\nimport evocandoEspiritos from \"../../assets/Images/evocandoEspiritos.jpeg\";\nimport oExorcista from \"../../assets/Images/oExorcista.jpeg\";\nimport alcatraz from \"../../assets/Images/alcatraz.jpeg\";\nimport PropertyCard from \"../../components/PropertyCard\";\nimport { useProperties } from \"../../providers/Properties\";\nimport { DashboardStyled } from \"./styles\";\nimport FilterModal from \"../../components/Dashboard/FilterModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const {\n    properties\n  } = useProperties();\n  const [filteredProperties, setFilteredProperties] = useState(properties);\n  useEffect(() => {\n    setFilteredProperties(properties);\n  }, [properties]);\n  const [isChoosingFilters, setIsChoosingFilters] = useState(false);\n  const [activeFilters, setActiveFilters] = useState({\n    price: 0,\n    type: [],\n    goal: [],\n    state: \"\",\n    city: \"\",\n    district: \"\",\n    dorms: [],\n    parking: [],\n    bathrooms: [],\n    houseArea: [],\n    landArea: []\n  });\n  const filterTypes = {\n    price: \"max\",\n    type: \"includes\",\n    goal: \"includes\",\n    state: \"equal\",\n    city: \"includes-string\",\n    district: \"includes-string\",\n    dorms: \"includes\",\n    parking: \"includes\",\n    bathrooms: \"includes\",\n    houseArea: \"range\",\n    landArea: \"range\"\n  };\n\n  const handleFilteredProperties = () => {\n    const activeKeys = Object.keys(activeFilters);\n    const activeValues = Object.values(activeFilters);\n    const typeValues = Object.values(filterTypes);\n    const newPropertiesList = properties.filter(property => {\n      return activeKeys.every((filterName, index) => {\n        const propertyKeys = Object.keys(property);\n        const propertyValues = Object.values(property);\n\n        if (typeof activeValues[index] === \"number\" && activeValues[index] === 0 || activeValues[index].length === 0) {\n          return true;\n        }\n\n        if (typeValues[index] === \"max\" && propertyValues[propertyKeys.indexOf(filterName)] > activeValues[index]) {\n          return false;\n        }\n\n        if (typeValues[index] === \"includes-string\" && !propertyValues[propertyKeys.indexOf(filterName)].includes(activeValues[index])) {\n          return false;\n        }\n\n        if (typeValues[index] === \"includes\" && !activeValues[index].includes(propertyValues[propertyKeys.indexOf(filterName)]) && !(activeValues[index].includes(5) && propertyValues[propertyKeys.indexOf(filterName)] >= 5)) {\n          return false;\n        }\n\n        if (typeValues[index] === \"equal\" && activeValues[index] !== propertyValues[propertyKeys.indexOf(filterName)]) {\n          return false;\n        }\n\n        if (typeValues[index] === \"range\" && (propertyValues[propertyKeys.indexOf(filterName)] < activeValues[index][0] || propertyValues[propertyKeys.indexOf(filterName)] > activeValues[index][1]) && activeValues[index][1] !== 0) {\n          return false;\n        }\n\n        return true;\n      });\n    });\n    setFilteredProperties(newPropertiesList);\n  };\n\n  const handleFilter = filterSearchData => {\n    setActiveFilters(filterSearchData);\n  };\n\n  const closeWindow = () => {\n    setIsChoosingFilters(false);\n    handleFilteredProperties();\n  };\n\n  useEffect(() => {\n    handleFilteredProperties();\n  }, [activeFilters]);\n  const [conter, setConter] = useState(0);\n  useEffect(() => {\n    setTimeout(() => {\n      if (conter <= listFun.length - 2) setConter(conter + 1);else setConter(0);\n    }, 5000);\n  }, [conter]);\n  const listFun = [{\n    img: CasaAsombrada,\n    description: \"Bela casa para alugar em amityville aluguel acessível por apenas R$: 1.000 trincas e cadeados ja incluidos alem de ajuda na mudança\",\n    lastResidentComent: \"o preço é de matar\"\n  }, {\n    img: casaIt,\n    description: \"Casa antiga a venda em Derry, Maine preço  R$:100.000 caso tenha crianças damos um desconto especial de 66.6% \",\n    lastResidentComent: \"A vizinhança é tão acolhedoura que voce nem tem que se preocupar com o futuro dos seus filhos\"\n  }, {\n    img: gondor,\n    description: \"Belo castelo medieval a venda por R$: 1.000.000.000 exercito não incluido\",\n    lastResidentComent: \"O castelo é otimo mas o  vizinho é insuportavel\"\n  }, {\n    img: hobbt,\n    description: \"Chale a preço amigavel nas montanhas R$: 80.000 com possiveis artefatos antigos\",\n    lastResidentComent: \"Tirando ladrões de talheres os vizinhos são otimos......meu precioso....\"\n  }, {\n    img: mansãoSpenser,\n    description: \"Antiga mansão ao stilo vitoriano a venda com um porão muito grande R$: 1.000.000 caso tenha a cura para o T-virus a um desconto de 30%\",\n    lastResidentComent: \"Os vizinhos parecem meio mortos mas se tiver muita munição é bem calmo....\"\n  }, {\n    img: evocandoEspiritos,\n    description: \"Casa de 2 andares com fazenda proxima para alugar R$: 1.300 o mes \",\n    lastResidentComent: \"A um cheiro estranho vindo das paredes pode precisar de detetizador\"\n  }, {\n    img: oExorcista,\n    description: \"\",\n    lastResidentComent: \"\"\n  }, {\n    img: alcatraz,\n    description: \"Ilha paradiziaca com complexo habtacional semi-novo incluido\",\n    lastResidentComent: \"Uma vez dentro nunca mais vai querer( e poder) sair\"\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (conter > 0) setConter(conter - 1);\n        },\n        children: \"before\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: listFun[conter].img,\n          alt: \"imagem casa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: listFun[conter].description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: listFun[conter].lastResidentComent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (conter <= listFun.length - 2) setConter(conter + 1);else setConter(0);\n        },\n        children: \"next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), isChoosingFilters && /*#__PURE__*/_jsxDEV(FilterModal, {\n      handleFilter: handleFilter,\n      closeWindow: closeWindow\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsChoosingFilters(true),\n      children: \"Abrir Filtros\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DashboardStyled, {\n      children: properties && filteredProperties.map(item => /*#__PURE__*/_jsxDEV(PropertyCard, {\n        properties: item,\n        type: \"DashBoard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Dashboard, \"P39mVTkL6rkKtLliqteMlchxAsQ=\", false, function () {\n  return [useProperties];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/home/rodhardt/Documents/Q2/new-dihome/dihome-capstone-q2g2/src/pages/Dashboard/index.tsx"],"names":["useState","useEffect","CasaAsombrada","casaIt","gondor","hobbt","mansãoSpenser","evocandoEspiritos","oExorcista","alcatraz","PropertyCard","useProperties","DashboardStyled","FilterModal","Dashboard","properties","filteredProperties","setFilteredProperties","isChoosingFilters","setIsChoosingFilters","activeFilters","setActiveFilters","price","type","goal","state","city","district","dorms","parking","bathrooms","houseArea","landArea","filterTypes","handleFilteredProperties","activeKeys","Object","keys","activeValues","values","typeValues","newPropertiesList","filter","property","every","filterName","index","propertyKeys","propertyValues","length","indexOf","includes","handleFilter","filterSearchData","closeWindow","conter","setConter","setTimeout","listFun","img","description","lastResidentComent","map","item"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport CasaAsombrada from \"../../assets/Images/CasaAssombrada.jpeg\";\nimport casaIt from \"../../assets/Images/casaIt.jpeg\";\nimport gondor from \"../../assets/Images/gondor.jpeg\";\nimport hobbt from \"../../assets/Images/hobbt.jpg\";\nimport mansãoSpenser from \"../../assets/Images/mansãoSpenser.jpeg\";\nimport evocandoEspiritos from \"../../assets/Images/evocandoEspiritos.jpeg\";\nimport oExorcista from \"../../assets/Images/oExorcista.jpeg\";\nimport alcatraz from \"../../assets/Images/alcatraz.jpeg\";\n\nimport PropertyCard from \"../../components/PropertyCard\";\nimport { useProperties } from \"../../providers/Properties\";\nimport { DashboardStyled } from \"./styles\";\n\nimport FilterModal from \"../../components/Dashboard/FilterModal\";\n\nimport { PropertyData } from \"../../assets/Types/property\";\n\ninterface FilterSearchData {\n  price: number;\n  type: string[];\n  goal: string[];\n  state: string;\n  city: string;\n  district: string;\n  dorms: number[];\n  parking: number[];\n  bathrooms: number[];\n  houseArea: number[];\n  landArea: number[];\n}\n\nfunction Dashboard() {\n  const { properties } = useProperties();\n\n  const [filteredProperties, setFilteredProperties] =\n    useState<PropertyData[]>(properties);\n\n  useEffect(() => {\n    setFilteredProperties(properties);\n  }, [properties]);\n\n  const [isChoosingFilters, setIsChoosingFilters] = useState(false);\n\n  const [activeFilters, setActiveFilters] = useState<FilterSearchData>({\n    price: 0,\n    type: [],\n    goal: [],\n    state: \"\",\n    city: \"\",\n    district: \"\",\n    dorms: [],\n    parking: [],\n    bathrooms: [],\n    houseArea: [],\n    landArea: [],\n  });\n\n  const filterTypes = {\n    price: \"max\",\n    type: \"includes\",\n    goal: \"includes\",\n    state: \"equal\",\n    city: \"includes-string\",\n    district: \"includes-string\",\n    dorms: \"includes\",\n    parking: \"includes\",\n    bathrooms: \"includes\",\n    houseArea: \"range\",\n    landArea: \"range\",\n  };\n\n  const handleFilteredProperties = () => {\n    const activeKeys = Object.keys(activeFilters);\n\n    const activeValues = Object.values(activeFilters);\n    const typeValues = Object.values(filterTypes);\n\n    const newPropertiesList = properties.filter((property) => {\n      return activeKeys.every((filterName, index) => {\n        const propertyKeys = Object.keys(property);\n        const propertyValues = Object.values(property);\n        if (\n          (typeof activeValues[index] === \"number\" &&\n            activeValues[index] === 0) ||\n          activeValues[index].length === 0\n        ) {\n          return true;\n        }\n        if (\n          typeValues[index] === \"max\" &&\n          propertyValues[propertyKeys.indexOf(filterName)] > activeValues[index]\n        ) {\n          return false;\n        }\n        if (\n          typeValues[index] === \"includes-string\" &&\n          !propertyValues[propertyKeys.indexOf(filterName)].includes(\n            activeValues[index]\n          )\n        ) {\n          return false;\n        }\n        if (\n          typeValues[index] === \"includes\" &&\n          !activeValues[index].includes(\n            propertyValues[propertyKeys.indexOf(filterName)]\n          ) &&\n          !(\n            activeValues[index].includes(5) &&\n            propertyValues[propertyKeys.indexOf(filterName)] >= 5\n          )\n        ) {\n          return false;\n        }\n\n        if (\n          typeValues[index] === \"equal\" &&\n          activeValues[index] !==\n            propertyValues[propertyKeys.indexOf(filterName)]\n        ) {\n          return false;\n        }\n        if (\n          typeValues[index] === \"range\" &&\n          (propertyValues[propertyKeys.indexOf(filterName)] <\n            activeValues[index][0] ||\n            propertyValues[propertyKeys.indexOf(filterName)] >\n              activeValues[index][1]) &&\n          activeValues[index][1] !== 0\n        ) {\n          return false;\n        }\n        return true;\n      });\n    });\n    setFilteredProperties(newPropertiesList);\n  };\n\n  const handleFilter = (filterSearchData: FilterSearchData) => {\n    setActiveFilters(filterSearchData);\n  };\n\n  const closeWindow = () => {\n    setIsChoosingFilters(false);\n    handleFilteredProperties();\n  };\n\n  useEffect(() => {\n    handleFilteredProperties();\n  }, [activeFilters]);\n\n  const [conter, setConter] = useState(0);\n  useEffect(() => {\n    setTimeout(() => {\n      if (conter <= listFun.length - 2) setConter(conter + 1);\n      else setConter(0);\n    }, 5000);\n  }, [conter]);\n  const listFun = [\n    {\n      img: CasaAsombrada,\n      description:\n        \"Bela casa para alugar em amityville aluguel acessível por apenas R$: 1.000 trincas e cadeados ja incluidos alem de ajuda na mudança\",\n      lastResidentComent: \"o preço é de matar\",\n    },\n    {\n      img: casaIt,\n      description:\n        \"Casa antiga a venda em Derry, Maine preço  R$:100.000 caso tenha crianças damos um desconto especial de 66.6% \",\n      lastResidentComent:\n        \"A vizinhança é tão acolhedoura que voce nem tem que se preocupar com o futuro dos seus filhos\",\n    },\n    {\n      img: gondor,\n      description:\n        \"Belo castelo medieval a venda por R$: 1.000.000.000 exercito não incluido\",\n      lastResidentComent: \"O castelo é otimo mas o  vizinho é insuportavel\",\n    },\n    {\n      img: hobbt,\n      description:\n        \"Chale a preço amigavel nas montanhas R$: 80.000 com possiveis artefatos antigos\",\n      lastResidentComent:\n        \"Tirando ladrões de talheres os vizinhos são otimos......meu precioso....\",\n    },\n    {\n      img: mansãoSpenser,\n      description:\n        \"Antiga mansão ao stilo vitoriano a venda com um porão muito grande R$: 1.000.000 caso tenha a cura para o T-virus a um desconto de 30%\",\n      lastResidentComent:\n        \"Os vizinhos parecem meio mortos mas se tiver muita munição é bem calmo....\",\n    },\n    {\n      img: evocandoEspiritos,\n      description:\n        \"Casa de 2 andares com fazenda proxima para alugar R$: 1.300 o mes \",\n      lastResidentComent:\n        \"A um cheiro estranho vindo das paredes pode precisar de detetizador\",\n    },\n    {\n      img: oExorcista,\n      description: \"\",\n      lastResidentComent: \"\",\n    },\n    {\n      img: alcatraz,\n      description:\n        \"Ilha paradiziaca com complexo habtacional semi-novo incluido\",\n      lastResidentComent: \"Uma vez dentro nunca mais vai querer( e poder) sair\",\n    },\n  ];\n  return (\n    <>\n      <div>\n        <button\n          onClick={() => {\n            if (conter > 0) setConter(conter - 1);\n          }}\n        >\n          before\n        </button>\n        <section>\n          <img src={listFun[conter].img} alt=\"imagem casa\" />\n          <p>{listFun[conter].description}</p>\n          <p>{listFun[conter].lastResidentComent}</p>\n        </section>\n\n        <button\n          onClick={() => {\n            if (conter <= listFun.length - 2) setConter(conter + 1);\n            else setConter(0);\n          }}\n        >\n          next\n        </button>\n      </div>\n\n      {isChoosingFilters && (\n        <FilterModal handleFilter={handleFilter} closeWindow={closeWindow} />\n      )}\n      {/* <button onClick={() => handleFilteredProperties()}>Teste</button> */}\n      <button onClick={() => setIsChoosingFilters(true)}>Abrir Filtros</button>\n      <DashboardStyled>\n        {properties &&\n          filteredProperties.map((item) => (\n            <PropertyCard properties={item} type=\"DashBoard\" />\n          ))}\n      </DashboardStyled>\n    </>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}