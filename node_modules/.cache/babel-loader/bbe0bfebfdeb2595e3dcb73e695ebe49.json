{"ast":null,"code":"var _jsxFileName = \"/home/rodhardt/Documents/Q2/new-dihome/dihome-capstone-q2g2/src/pages/Dashboard/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport CasaAsombrada from \"../../assets/Images/CasaAssombrada.jpeg\";\nimport casaIt from \"../../assets/Images/casaIt.jpeg\";\nimport gondor from \"../../assets/Images/gondor.jpeg\";\nimport hobbt from \"../../assets/Images/hobbt.jpg\";\nimport mansãoSpenser from \"../../assets/Images/mansãoSpenser.jpeg\";\nimport evocandoEspiritos from \"../../assets/Images/evocandoEspiritos.jpeg\";\nimport oExorcista from \"../../assets/Images/oExorcista.jpeg\";\nimport alcatraz from \"../../assets/Images/alcatraz.jpeg\";\nimport { MdOutlineNavigateNext } from \"react-icons/md\";\nimport { MdOutlineNavigateBefore } from \"react-icons/md\";\nimport { AiOutlineFilter } from \"react-icons/ai\";\nimport PropertyCard from \"../../components/PropertyCard\";\nimport { useProperties } from \"../../providers/Properties\";\nimport { DashboardStyled } from \"./styles\";\nimport FilterModal from \"../../components/Dashboard/FilterModal\";\nimport Header from \"../../components/Header\";\nimport LoadingScreen from \"../../components/LoadingScreen\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const {\n    properties\n  } = useProperties();\n  const [filteredProperties, setFilteredProperties] = useState(properties);\n  useEffect(() => {\n    setFilteredProperties(properties);\n  }, [properties]);\n  const [isChoosingFilters, setIsChoosingFilters] = useState(false);\n  const [activeFilters, setActiveFilters] = useState({\n    price: 0,\n    type: [],\n    goal: [],\n    state: \"\",\n    city: \"\",\n    district: \"\",\n    dorms: [],\n    parking: [],\n    bathrooms: [],\n    houseArea: [],\n    landArea: []\n  });\n  const filterTypes = {\n    price: \"max\",\n    type: \"includes\",\n    goal: \"includes\",\n    state: \"equal\",\n    city: \"includes-string\",\n    district: \"includes-string\",\n    dorms: \"includes\",\n    parking: \"includes\",\n    bathrooms: \"includes\",\n    houseArea: \"range\",\n    landArea: \"range\"\n  };\n\n  const handleFilteredProperties = () => {\n    const activeKeys = Object.keys(activeFilters);\n    const activeValues = Object.values(activeFilters);\n    const typeValues = Object.values(filterTypes);\n    const newPropertiesList = properties.filter(property => {\n      return activeKeys.every((filterName, index) => {\n        const propertyKeys = Object.keys(property);\n        const propertyValues = Object.values(property);\n\n        if (typeof activeValues[index] === \"number\" && activeValues[index] === 0 || activeValues[index].length === 0) {\n          return true;\n        }\n\n        if (typeValues[index] === \"max\" && propertyValues[propertyKeys.indexOf(filterName)] > activeValues[index]) {\n          return false;\n        }\n\n        if (typeValues[index] === \"includes-string\" && !propertyValues[propertyKeys.indexOf(filterName)].includes(activeValues[index])) {\n          return false;\n        }\n\n        if (typeValues[index] === \"includes\" && !activeValues[index].includes(propertyValues[propertyKeys.indexOf(filterName)]) && !(activeValues[index].includes(5) && propertyValues[propertyKeys.indexOf(filterName)] >= 5)) {\n          return false;\n        }\n\n        if (typeValues[index] === \"equal\" && activeValues[index] !== propertyValues[propertyKeys.indexOf(filterName)]) {\n          return false;\n        }\n\n        if (typeValues[index] === \"range\" && (propertyValues[propertyKeys.indexOf(filterName)] < activeValues[index][0] || propertyValues[propertyKeys.indexOf(filterName)] > activeValues[index][1]) && activeValues[index][1] !== 0) {\n          return false;\n        }\n\n        return true;\n      });\n    });\n    setFilteredProperties(newPropertiesList);\n  };\n\n  const handleFilter = filterSearchData => {\n    setActiveFilters(filterSearchData);\n  };\n\n  const closeWindow = () => {\n    setIsChoosingFilters(false);\n    handleFilteredProperties();\n  };\n\n  useEffect(() => {\n    handleFilteredProperties();\n  }, [activeFilters]);\n  const [counter, setCounter] = useState(0);\n\n  const slide = () => {\n    if (counter <= listFun.length - 2) {\n      setCounter(counter + 1);\n    } else {\n      setCounter(0);\n    }\n  };\n\n  useEffect(() => {\n    const slideCall = setInterval(slide, 5000);\n    return () => clearInterval(slideCall);\n  }, []);\n  const listFun = [{\n    img: CasaAsombrada,\n    description: \"Bela casa acessível para alugar em amityville por apenas R$: 1.000 trincas e cadeados já inclusos além de ajuda na mudança\",\n    lastResidentComent: \"o preço é de matar\"\n  }, {\n    img: casaIt,\n    description: \"Casa antiga a venda em Derry, Maine preço R$ 100.000, caso tenha crianças damos um desconto especial de 66.6% \",\n    lastResidentComent: \"A vizinhança é tão acolhedoura que você nem tem que se preocupar com o futuro dos seus filhos\"\n  }, {\n    img: gondor,\n    description: \"Belo castelo medieval a venda por R$ 1.000.000.000 exército não incluso\",\n    lastResidentComent: \"O castelo é otimo, mas o vizinho é insuportável\"\n  }, {\n    img: hobbt,\n    description: \"Chalé a preço amigável nas montanhas R$ 80.000 com possíveis artefatos antigos\",\n    lastResidentComent: \"Tirando ladrões de talheres os vizinhos são ótimos......meu precioso....\"\n  }, {\n    img: mansãoSpenser,\n    description: \"Antiga mansão ao estilo vitoriano a venda com um porão muito grande R$ 1.000.000 caso tenha a cura para o T-virus há um desconto de 30%\",\n    lastResidentComent: \"Os vizinhos parecem meio mortos, mas se tiver muita munição é bem calmo....\"\n  }, {\n    img: evocandoEspiritos,\n    description: \"Casa de 2 andares com fazenda próxima para alugar R$ 1.300 / mês\",\n    lastResidentComent: \"Há um cheiro estranho vindo das paredes, pode precisar de detetizador\"\n  }, {\n    img: oExorcista,\n    description: \"Casa com 2 andares e porão espaçoso para compra R$ 226.660 (negociável)\",\n    lastResidentComent: \"Ótima casa o melhor é que dá até para usar sua própria alma(ou de familiare) como entrada\"\n  }, {\n    img: alcatraz,\n    description: \"Ilha paradisíaca com complexo habitacional semi-novo incluso\",\n    lastResidentComent: \"Uma vez dentro nunca mais vai querer(e poder) sair\"\n  }];\n  const [renderAtt, setRenderAtt] = useState(1);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DashboardStyled, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"changeSlider\",\n          onClick: () => {\n            counter > 0 ? setCounter(counter - 1) : setCounter(listFun.length - 2);\n          },\n          children: /*#__PURE__*/_jsxDEV(MdOutlineNavigateBefore, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"boxSlider\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"slider-text description\",\n            children: \"Descrição: \" + listFun[counter].description + \".\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-container\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: listFun[counter].img,\n              alt: \"imagem casa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"slider-text comment\",\n            children: \"Comentario do ultimo inquilino: \" + listFun[counter].lastResidentComent + \".\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"changeSlider\",\n          onClick: () => {\n            if (counter <= listFun.length - 2) setCounter(counter + 1);else setCounter(0);\n          },\n          children: /*#__PURE__*/_jsxDEV(MdOutlineNavigateNext, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), isChoosingFilters && /*#__PURE__*/_jsxDEV(FilterModal, {\n        handleFilter: handleFilter,\n        closeWindow: closeWindow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"filter\",\n        onClick: () => setIsChoosingFilters(true),\n        children: [/*#__PURE__*/_jsxDEV(AiOutlineFilter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), \" Abrir Filtros\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), properties.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-dashboard\",\n        children: /*#__PURE__*/_jsxDEV(LoadingScreen, {\n          type: \"partial\",\n          message: \"Buscando im\\xF3veis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this), renderAtt && filteredProperties.filter(property => property.consultantStatus === \"aprovado\").map(item => /*#__PURE__*/_jsxDEV(PropertyCard, {\n        properties: item,\n        type: \"DashBoard\",\n        setRenderAtt: setRenderAtt,\n        renderAtt: renderAtt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 15\n      }, this)), properties.length > 0 && filteredProperties.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-failed\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nenhum im\\xF3vel atende sua busca\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Dashboard, \"m1tENqCouUqKIKt55LRF0lQL6R4=\", false, function () {\n  return [useProperties];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/home/rodhardt/Documents/Q2/new-dihome/dihome-capstone-q2g2/src/pages/Dashboard/index.tsx"],"names":["useState","useEffect","CasaAsombrada","casaIt","gondor","hobbt","mansãoSpenser","evocandoEspiritos","oExorcista","alcatraz","MdOutlineNavigateNext","MdOutlineNavigateBefore","AiOutlineFilter","PropertyCard","useProperties","DashboardStyled","FilterModal","Header","LoadingScreen","Dashboard","properties","filteredProperties","setFilteredProperties","isChoosingFilters","setIsChoosingFilters","activeFilters","setActiveFilters","price","type","goal","state","city","district","dorms","parking","bathrooms","houseArea","landArea","filterTypes","handleFilteredProperties","activeKeys","Object","keys","activeValues","values","typeValues","newPropertiesList","filter","property","every","filterName","index","propertyKeys","propertyValues","length","indexOf","includes","handleFilter","filterSearchData","closeWindow","counter","setCounter","slide","listFun","slideCall","setInterval","clearInterval","img","description","lastResidentComent","renderAtt","setRenderAtt","consultantStatus","map","item"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport CasaAsombrada from \"../../assets/Images/CasaAssombrada.jpeg\";\nimport casaIt from \"../../assets/Images/casaIt.jpeg\";\nimport gondor from \"../../assets/Images/gondor.jpeg\";\nimport hobbt from \"../../assets/Images/hobbt.jpg\";\nimport mansãoSpenser from \"../../assets/Images/mansãoSpenser.jpeg\";\nimport evocandoEspiritos from \"../../assets/Images/evocandoEspiritos.jpeg\";\nimport oExorcista from \"../../assets/Images/oExorcista.jpeg\";\nimport alcatraz from \"../../assets/Images/alcatraz.jpeg\";\nimport { MdOutlineNavigateNext } from \"react-icons/md\";\nimport { MdOutlineNavigateBefore } from \"react-icons/md\";\nimport { AiOutlineFilter } from \"react-icons/ai\";\nimport PropertyCard from \"../../components/PropertyCard\";\nimport { useProperties } from \"../../providers/Properties\";\nimport { DashboardStyled } from \"./styles\";\n\nimport FilterModal from \"../../components/Dashboard/FilterModal\";\n\nimport { PropertyData } from \"../../assets/Types/property\";\n\nimport Header from \"../../components/Header\";\n\nimport LoadingScreen from \"../../components/LoadingScreen\";\n\ninterface FilterSearchData {\n  price: number;\n  type: string[];\n  goal: string[];\n  state: string;\n  city: string;\n  district: string;\n  dorms: number[];\n  parking: number[];\n  bathrooms: number[];\n  houseArea: number[];\n  landArea: number[];\n}\n\nfunction Dashboard() {\n  const { properties } = useProperties();\n\n  const [filteredProperties, setFilteredProperties] =\n    useState<PropertyData[]>(properties);\n\n  useEffect(() => {\n    setFilteredProperties(properties);\n  }, [properties]);\n\n  const [isChoosingFilters, setIsChoosingFilters] = useState(false);\n\n  const [activeFilters, setActiveFilters] = useState<FilterSearchData>({\n    price: 0,\n    type: [],\n    goal: [],\n    state: \"\",\n    city: \"\",\n    district: \"\",\n    dorms: [],\n    parking: [],\n    bathrooms: [],\n    houseArea: [],\n    landArea: [],\n  });\n\n  const filterTypes = {\n    price: \"max\",\n    type: \"includes\",\n    goal: \"includes\",\n    state: \"equal\",\n    city: \"includes-string\",\n    district: \"includes-string\",\n    dorms: \"includes\",\n    parking: \"includes\",\n    bathrooms: \"includes\",\n    houseArea: \"range\",\n    landArea: \"range\",\n  };\n\n  const handleFilteredProperties = () => {\n    const activeKeys = Object.keys(activeFilters);\n\n    const activeValues = Object.values(activeFilters);\n    const typeValues = Object.values(filterTypes);\n\n    const newPropertiesList = properties.filter((property) => {\n      return activeKeys.every((filterName, index) => {\n        const propertyKeys = Object.keys(property);\n        const propertyValues = Object.values(property);\n        if (\n          (typeof activeValues[index] === \"number\" &&\n            activeValues[index] === 0) ||\n          activeValues[index].length === 0\n        ) {\n          return true;\n        }\n        if (\n          typeValues[index] === \"max\" &&\n          propertyValues[propertyKeys.indexOf(filterName)] > activeValues[index]\n        ) {\n          return false;\n        }\n        if (\n          typeValues[index] === \"includes-string\" &&\n          !propertyValues[propertyKeys.indexOf(filterName)].includes(\n            activeValues[index]\n          )\n        ) {\n          return false;\n        }\n        if (\n          typeValues[index] === \"includes\" &&\n          !activeValues[index].includes(\n            propertyValues[propertyKeys.indexOf(filterName)]\n          ) &&\n          !(\n            activeValues[index].includes(5) &&\n            propertyValues[propertyKeys.indexOf(filterName)] >= 5\n          )\n        ) {\n          return false;\n        }\n\n        if (\n          typeValues[index] === \"equal\" &&\n          activeValues[index] !==\n            propertyValues[propertyKeys.indexOf(filterName)]\n        ) {\n          return false;\n        }\n        if (\n          typeValues[index] === \"range\" &&\n          (propertyValues[propertyKeys.indexOf(filterName)] <\n            activeValues[index][0] ||\n            propertyValues[propertyKeys.indexOf(filterName)] >\n              activeValues[index][1]) &&\n          activeValues[index][1] !== 0\n        ) {\n          return false;\n        }\n        return true;\n      });\n    });\n    setFilteredProperties(newPropertiesList);\n  };\n\n  const handleFilter = (filterSearchData: FilterSearchData) => {\n    setActiveFilters(filterSearchData);\n  };\n\n  const closeWindow = () => {\n    setIsChoosingFilters(false);\n    handleFilteredProperties();\n  };\n\n  useEffect(() => {\n    handleFilteredProperties();\n  }, [activeFilters]);\n\n  const [counter, setCounter] = useState(0);\n\n  const slide = () => {\n    if (counter <= listFun.length - 2) {\n      setCounter(counter + 1);\n    } else {\n      setCounter(0);\n    }\n  };\n\n  useEffect(() => {\n    const slideCall = setInterval(slide, 5000);\n    return () => clearInterval(slideCall);\n  }, []);\n\n  const listFun = [\n    {\n      img: CasaAsombrada,\n      description:\n        \"Bela casa acessível para alugar em amityville por apenas R$: 1.000 trincas e cadeados já inclusos além de ajuda na mudança\",\n      lastResidentComent: \"o preço é de matar\",\n    },\n    {\n      img: casaIt,\n      description:\n        \"Casa antiga a venda em Derry, Maine preço R$ 100.000, caso tenha crianças damos um desconto especial de 66.6% \",\n      lastResidentComent:\n        \"A vizinhança é tão acolhedoura que você nem tem que se preocupar com o futuro dos seus filhos\",\n    },\n    {\n      img: gondor,\n      description:\n        \"Belo castelo medieval a venda por R$ 1.000.000.000 exército não incluso\",\n      lastResidentComent: \"O castelo é otimo, mas o vizinho é insuportável\",\n    },\n    {\n      img: hobbt,\n      description:\n        \"Chalé a preço amigável nas montanhas R$ 80.000 com possíveis artefatos antigos\",\n      lastResidentComent:\n        \"Tirando ladrões de talheres os vizinhos são ótimos......meu precioso....\",\n    },\n    {\n      img: mansãoSpenser,\n      description:\n        \"Antiga mansão ao estilo vitoriano a venda com um porão muito grande R$ 1.000.000 caso tenha a cura para o T-virus há um desconto de 30%\",\n      lastResidentComent:\n        \"Os vizinhos parecem meio mortos, mas se tiver muita munição é bem calmo....\",\n    },\n    {\n      img: evocandoEspiritos,\n      description:\n        \"Casa de 2 andares com fazenda próxima para alugar R$ 1.300 / mês\",\n      lastResidentComent:\n        \"Há um cheiro estranho vindo das paredes, pode precisar de detetizador\",\n    },\n    {\n      img: oExorcista,\n      description:\n        \"Casa com 2 andares e porão espaçoso para compra R$ 226.660 (negociável)\",\n      lastResidentComent:\n        \"Ótima casa o melhor é que dá até para usar sua própria alma(ou de familiare) como entrada\",\n    },\n    {\n      img: alcatraz,\n      description:\n        \"Ilha paradisíaca com complexo habitacional semi-novo incluso\",\n      lastResidentComent: \"Uma vez dentro nunca mais vai querer(e poder) sair\",\n    },\n  ];\n\n  const [renderAtt, setRenderAtt] = useState(1);\n  return (\n    <>\n      <Header />\n      <DashboardStyled>\n        <div className=\"slider\">\n          <button\n            className=\"changeSlider\"\n            onClick={() => {\n              counter > 0\n                ? setCounter(counter - 1)\n                : setCounter(listFun.length - 2);\n            }}\n          >\n            <MdOutlineNavigateBefore />\n          </button>\n\n          <section className=\"boxSlider\">\n            <p className=\"slider-text description\">\n              {\"Descrição: \" + listFun[counter].description + \".\"}\n            </p>\n            <div className=\"image-container\">\n              <img src={listFun[counter].img} alt=\"imagem casa\" />\n            </div>\n\n            <p className=\"slider-text comment\">\n              {\"Comentario do ultimo inquilino: \" +\n                listFun[counter].lastResidentComent +\n                \".\"}\n            </p>\n          </section>\n\n          <button\n            className=\"changeSlider\"\n            onClick={() => {\n              if (counter <= listFun.length - 2) setCounter(counter + 1);\n              else setCounter(0);\n            }}\n          >\n            <MdOutlineNavigateNext />\n          </button>\n        </div>\n        {isChoosingFilters && (\n          <FilterModal handleFilter={handleFilter} closeWindow={closeWindow} />\n        )}\n\n        <button className=\"filter\" onClick={() => setIsChoosingFilters(true)}>\n          <AiOutlineFilter /> Abrir Filtros\n        </button>\n\n        {properties.length === 0 && (\n          <div className=\"loading-dashboard\">\n            <LoadingScreen type=\"partial\" message=\"Buscando imóveis\" />\n          </div>\n        )}\n        {renderAtt &&\n          filteredProperties\n            .filter((property) => property.consultantStatus === \"aprovado\")\n            .map((item) => (\n              <PropertyCard\n                properties={item}\n                type=\"DashBoard\"\n                setRenderAtt={setRenderAtt}\n                renderAtt={renderAtt}\n              />\n            ))}\n        {properties.length > 0 && filteredProperties.length === 0 && (\n          <div className=\"search-failed\">\n            <p>Nenhum imóvel atende sua busca</p>\n          </div>\n        )}\n      </DashboardStyled>\n    </>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}